/* GP Design System Theme - NO Tailwind base utilities
 * This file should be imported by consuming apps that process Tailwind themselves
 * Apps should: @import "tailwindcss"; then @import "@gp/ui/theme";
 */

@theme {
  /* Typography */
  --font-sans: 'DM Sans', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* Off-white page background */
  --color-cream: #fff9f2;

  /* Orange palette anchored on rgb(255, 106, 0) */
  --color-orange-50: #fff7ed;
  --color-orange-100: #ffedd5;
  --color-orange-200: #fed7aa;
  --color-orange-300: #fdba74;
  --color-orange-400: #fb923c;
  --color-orange-500: #ff6a00;
  --color-orange-600: #ea580c;
  --color-orange-700: #c2410c;
  --color-orange-800: #9a3412;
  --color-orange-900: #7c2d12;

  /* Dark navy palette anchored on #0a1a35 */
  --color-navy-50: #f0f2f5;
  --color-navy-100: #d9dde5;
  --color-navy-200: #b3bac9;
  --color-navy-300: #8c97ad;
  --color-navy-400: #667491;
  --color-navy-500: #405175;
  --color-navy-600: #33415e;
  --color-navy-700: #263147;
  --color-navy-800: #1a2030;
  --color-navy-900: #0a1a35;
  --color-navy-950: #050d1a;

  /* GP Design System - Box Shadows */
  --shadow-sm: var(--gp-shadow-sm);
  --shadow-md: var(--gp-shadow-md);
  --shadow-lg: var(--gp-shadow-lg);

  /* GP Design System - Semantic Spacing */
  --spacing-card: var(--gp-spacing-card);
  --spacing-section: var(--gp-spacing-section);
  --spacing-list-item: var(--gp-spacing-list-item);
}

:root {
  /* Shadows */
  --gp-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --gp-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --gp-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

  /* Semantic Spacing */
  --gp-spacing-card: 1rem;
  --gp-spacing-section: 0.75rem;
  --gp-spacing-list-item: 0.625rem;
}

/* Dark mode shadows - stronger for visibility on dark backgrounds */
.dark {
  --gp-shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.3);
  --gp-shadow-md: 0 4px 8px -1px rgb(0 0 0 / 0.4);
  --gp-shadow-lg: 0 12px 20px -3px rgb(0 0 0 / 0.5);
}

/* Component classes */
@layer components {
  .gp-card {
    @apply bg-white rounded-lg shadow-sm p-4;
    @apply dark:bg-navy-800 dark:border dark:border-navy-700;
  }

  /* Button variants with automatic dark mode support */
  .gp-button-primary {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply bg-orange-500 text-white hover:bg-orange-600 focus:ring-orange-500/20;
    @apply dark:bg-orange-500 dark:hover:bg-orange-600 dark:focus:ring-orange-500/20;
  }

  .gp-button-secondary {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply border border-navy-700 text-navy-700 bg-white hover:bg-navy-50 focus:ring-navy-500/20;
    @apply dark:border-navy-400 dark:text-navy-200 dark:bg-transparent dark:hover:bg-navy-800 dark:hover:text-white;
  }

  .gp-button-ghost {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply text-navy-700 bg-transparent hover:bg-gray-100 focus:ring-navy-500/20;
    @apply dark:text-navy-200 dark:hover:bg-navy-800 dark:hover:text-white;
  }

  .gp-button-destructive {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply bg-rose-700 text-white hover:bg-rose-800 focus:ring-rose-700/20;
    @apply dark:bg-rose-600 dark:hover:bg-rose-700;
  }

  /* Dark mode button variants - optimized for dark backgrounds */
  .gp-button-primary-dark {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply bg-orange-400 text-white hover:bg-orange-500 focus:ring-orange-400/20;
  }

  .gp-button-secondary-dark {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply border border-navy-300 text-navy-300 bg-transparent hover:bg-navy-800 hover:text-white focus:ring-navy-500/20;
  }

  .gp-button-ghost-dark {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply text-navy-300 bg-transparent hover:text-white hover:bg-navy-800 focus:ring-navy-500/20;
  }

  .gp-button-destructive-dark {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply bg-rose-600 text-white hover:bg-rose-700 focus:ring-rose-600/20;
  }

  .gp-badge-success {
    @apply inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium rounded-full;
    @apply bg-white text-emerald-700 border border-emerald-200/50;
    @apply dark:bg-navy-800 dark:text-emerald-400 dark:border-emerald-700/50;
    box-shadow: 0 0 8px rgb(16 185 129 / 0.3); /* emerald-500 */
  }

  .gp-badge-warning {
    @apply inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium rounded-full;
    @apply bg-white text-amber-600 border border-amber-200/50;
    @apply dark:bg-navy-800 dark:text-amber-400 dark:border-amber-600/50;
    box-shadow: 0 0 8px rgb(245 158 11 / 0.3); /* amber-500 */
  }

  .gp-badge-error {
    @apply inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium rounded-full;
    @apply bg-white text-rose-700 border border-rose-200/50;
    @apply dark:bg-navy-800 dark:text-rose-400 dark:border-rose-600/50;
    box-shadow: 0 0 8px rgb(244 63 94 / 0.3); /* rose-500 */
  }

  .gp-badge-info {
    @apply inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium rounded-full;
    @apply bg-white text-navy-700 border border-navy-200/50;
    @apply dark:bg-navy-800 dark:text-navy-200 dark:border-navy-600/50;
    box-shadow: 0 0 8px rgb(64 81 117 / 0.3); /* navy-500 */
  }

  .gp-badge-neutral {
    @apply inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium rounded-full;
    @apply bg-white text-gray-700 border border-gray-200/50;
    @apply dark:bg-navy-800 dark:text-gray-300 dark:border-gray-600/50;
    box-shadow: 0 0 8px rgb(107 114 128 / 0.3); /* gray-500 */
  }

  .gp-stat-card {
    @apply flex items-center gap-2 bg-gray-50 rounded-md px-3 py-2;
    @apply dark:bg-navy-800/50;
  }

  .gp-proportion-chart {
    @apply relative w-full;
  }

  .gp-alert-info {
    @apply px-4 py-3 rounded-md border;
    @apply bg-navy-50 border-navy-200 text-navy-700;
    @apply dark:bg-navy-900/50 dark:border-navy-700 dark:text-navy-200;
  }

  .gp-alert-warning {
    @apply px-4 py-3 rounded-md border;
    @apply bg-amber-50 border-amber-200 text-amber-600;
    @apply dark:bg-amber-950/30 dark:border-amber-800 dark:text-amber-400;
  }

  .gp-alert-error {
    @apply px-4 py-3 rounded-md border;
    @apply bg-rose-50 border-rose-200 text-rose-700;
    @apply dark:bg-rose-950/30 dark:border-rose-800 dark:text-rose-400;
  }

  .gp-alert-success {
    @apply px-4 py-3 rounded-md border;
    @apply bg-emerald-50 border-emerald-200 text-emerald-700;
    @apply dark:bg-emerald-950/30 dark:border-emerald-800 dark:text-emerald-400;
  }

  /* Required field indicator - uses pseudo-element which cannot be done with Tailwind utilities */
  .gp-input-label-required::after {
    @apply content-['*'] text-rose-700 ml-1;
  }

  .dark .gp-input-label-required::after {
    @apply text-rose-400;
  }

  /* Checkbox styling - must override gp-input-base w-full and padding from size classes */
  input[type="checkbox"] {
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    width: 1rem !important;
    height: 1rem !important;
    min-width: 1rem !important;
    min-height: 1rem !important;
    max-width: 1rem !important;
    max-height: 1rem !important;
    padding: 0 !important;
    margin: 0;
    border: 1px solid #d1d5db;
    border-radius: 0.25rem;
    background-color: white;
    cursor: pointer;
    flex-shrink: 0;
    display: inline-block;
    vertical-align: middle;
    box-sizing: border-box;
    transform: translateY(-3px);
  }

  .dark input[type="checkbox"] {
    border-color: #4b5563;
    background-color: #1a2030;
  }

  input[type="checkbox"]:checked {
    background-color: #ff6a00;
    border-color: #ff6a00;
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
    background-size: 100% 100%;
    background-position: center;
    background-repeat: no-repeat;
  }

  .dark input[type="checkbox"]:checked {
    background-color: #fb923c;
    border-color: #fb923c;
  }

  input[type="checkbox"]:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(255, 106, 0, 0.2);
  }

  input[type="checkbox"]:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

/* Global styles */
body {
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Animations */
@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(255, 108, 27, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(255, 108, 27, 0);
  }
}

.animate-fade-up {
  animation: fade-up 0.3s ease-out forwards;
}

@keyframes skeleton-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-skeleton {
  background: linear-gradient(
    90deg,
    var(--color-gray-200, #e5e7eb) 25%,
    var(--color-gray-100, #f3f4f6) 50%,
    var(--color-gray-200, #e5e7eb) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
}

.dark .animate-skeleton {
  background: linear-gradient(
    90deg,
    #263147 25%,
    #33415e 50%,
    #263147 75%
  );
  background-size: 200% 100%;
}

@keyframes page-enter {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.page-enter {
  animation: page-enter 200ms ease-out forwards;
}

.animate-content-in {
  animation: page-enter 200ms ease-out forwards;
}

@keyframes arrow-slide-in {
  from {
    width: 0;
    opacity: 0;
  }
  to {
    width: 30px;
    opacity: 1;
  }
}

.animate-arrow-in {
  animation: arrow-slide-in 200ms ease-out forwards;
  overflow: hidden;
}

@media (prefers-reduced-motion: reduce) {
  .animate-skeleton,
  .page-enter,
  .animate-content-in {
    animation: none;
  }
}

/* Dropdown menu animations */
@keyframes dropdown-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes dropdown-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

.animate-dropdown-in {
  animation: dropdown-in 150ms ease-out;
}

.animate-dropdown-out {
  animation: dropdown-out 100ms ease-in;
}

/* Tooltip animations - 100ms both directions for snappier feel */
@keyframes tooltip-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes tooltip-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

.animate-tooltip-in {
  animation: tooltip-in 100ms ease-out;
}

.animate-tooltip-out {
  animation: tooltip-out 100ms ease-out;
}

/* Modal animations - overlay fades in/out, content scales and fades */
@keyframes modal-overlay-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes modal-overlay-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes modal-content-in {
  from {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes modal-content-out {
  from {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  to {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.95);
  }
}

.animate-modal-overlay-in {
  animation: modal-overlay-in 150ms ease-out;
}

.animate-modal-overlay-out {
  animation: modal-overlay-out 150ms ease-in;
}

.animate-modal-content-in {
  animation: modal-content-in 150ms ease-out;
}

.animate-modal-content-out {
  animation: modal-content-out 150ms ease-in;
}
